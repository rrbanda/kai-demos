schemaVersion: 2.2.0
metadata:
  name: kai-devspaces
  version: 1.0.0
attributes:
  controller.devfile.io/storage-type: per-workspace
components:
  - name: kai-tools
    container:
      image: quay.io/rbrhssa/kai-devspaces:latest
      memoryLimit: 4Gi
      memoryRequest: 2Gi
      cpuLimit: "2"
      cpuRequest: "1"
      mountSources: true
      sourceMapping: /projects
      env:
        - name: PYTHON_VERSION
          value: "3.12"
        - name: GLIBC_VERSION
          value: "2.38"
      volumeMounts:
        - name: vscodedata
          path: /home/user/.vscode
  - name: vscodedata
    volume:
      size: 1Gi

projects:
  - name: python-hello-world
    git:
      remotes:
        origin: https://github.com/konveyor-ecosystem/python-hello-world.git

commands:
  - id: run-python
    exec:
      label: "Run Python App"
      component: kai-tools
      commandLine: "python3.12 app.py"
      workingDir: ${PROJECTS_ROOT}/python-hello-world
      group:
        kind: run
        isDefault: true
